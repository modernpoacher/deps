"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.executeEachBundle=executeEachBundle;exports.executeEachOptional=executeEachOptional;exports.executeEachDev=executeEachDev;exports.executeEach=executeEach;exports.executeProd=exports.executeDev=exports.executeOptional=exports.executeBundle=void 0;var _child_process=require("child_process");const transform=v=>Array.isArray(v)?v.map(s=>s.trim()).join(String.fromCharCode(32)):v;const installSaveBundle=v=>new Promise((resolve,reject)=>{(0,_child_process.spawn)('npm',['install','--save-bundle',transform(v)],{shell:true,stdio:'inherit'},e=>!e?resolve():reject(e)).on('close',resolve).on('error',reject);});const installSaveOptional=v=>new Promise((resolve,reject)=>{(0,_child_process.spawn)('npm',['install','--save-optional',transform(v)],{shell:true,stdio:'inherit'},e=>!e?resolve():reject(e)).on('close',resolve).on('error',reject);});const installSaveDev=v=>new Promise((resolve,reject)=>{(0,_child_process.spawn)('npm',['install','--save-dev',transform(v)],{shell:true,stdio:'inherit'},e=>!e?resolve():reject(e)).on('close',resolve).on('error',reject);});const installSaveProd=v=>new Promise((resolve,reject)=>{(0,_child_process.spawn)('npm',['install','--save-prod',transform(v)],{shell:true,stdio:'inherit'},e=>!e?resolve():reject(e)).on('close',resolve).on('error',reject);});async function executeEachBundle([key,...array]=[]){if(key)await installSaveBundle(key);return array.length?executeEachBundle(array):array;}async function executeEachOptional([key,...array]=[]){if(key)await installSaveOptional(key);return array.length?executeEachOptional(array):array;}async function executeEachDev([key,...array]=[]){if(key)await installSaveDev(key);return array.length?executeEachDev(array):array;}async function executeEach([key,...array]=[]){if(key)await installSaveProd(key);return array.length?executeEach(array):array;}const executeBundle=async(dependencies={})=>installSaveBundle(Object.keys(dependencies));exports.executeBundle=executeBundle;const executeOptional=async(dependencies={})=>installSaveOptional(Object.keys(dependencies));exports.executeOptional=executeOptional;const executeDev=async(dependencies={})=>installSaveDev(Object.keys(dependencies));exports.executeDev=executeDev;const executeProd=async(dependencies={})=>installSaveProd(Object.keys(dependencies));exports.executeProd=executeProd;